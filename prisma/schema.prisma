
// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider          = "postgresql"
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DB")
}

generator client {
  provider = "prisma-client-js"
}

model GameLog {
  id             Int        @id @default(autoincrement())
  player         Player     @relation(fields: [playerID], references: [nhlID])
  playerID       String
  hotstreak      HotStreak? @relation(fields: [hotstreakID], references: [id])
  hotstreakID    Int?
  toi            String
  assists        Int
  blocked        Int
  goals          Int
  PPTime         String
  shots          Int
  hits           Int
  penaltyMinutes String
  overTimeGoals  Int  
  shifts         Int
  PPGoals        Int
  faceOffPct     Float
  date           String
  season         String
}

model HotStreak {
  id      Int       @id @default(autoincrement())
  entries GameLog[]
  length  Int

}

model Player {
  id       Int       @id @default(autoincrement())
  nhlID    String    @unique
  games    GameLog[]
  name     String
  position String
  Team     Team?     @relation(fields: [teamId], references: [id])
  teamId   Int?
}

model Team {
  id      Int      @id @default(autoincrement())
  name    String
  nhlID Int @unique
  players Player[]
}
